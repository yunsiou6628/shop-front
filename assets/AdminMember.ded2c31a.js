import{Q as c}from"./QBtn.ff77700c.js";import{Q as p}from"./QTd.9e2d3e91.js";import{Q as u}from"./QTable.862db836.js";import{B as d,e as f,f as _,j as i,k as a,ae as l,_ as s,t as b}from"./index.0b2aae5a.js";import"./Ripple.1e51f67b.js";import"./render.5cf4cae9.js";import"./QSpinner.e8f0d008.js";import"./QSeparator.d437bd8c.js";import"./use-dark.2612e0fa.js";import"./QList.bab6626f.js";import"./QSelect.98cef7d6.js";import"./use-key-composition.ae0a8c9c.js";import"./focus-manager.d6507951.js";import"./QItem.afb6a5d3.js";import"./QMenu.47306097.js";import"./selection.b94ba95e.js";import"./focusout.e1f4d4b9.js";import"./use-timeout.fd13594b.js";import"./scroll.666f74de.js";import"./QDialog.a153bed8.js";import"./rtl.4b414a6d.js";import"./use-fullscreen.cbf74633.js";const w={class:"q-pa-md"},x=b("\u522A\u9664"),K={__name:"AdminMember",setup(g){const r=d([]),n=[{name:"name",required:!0,label:"\u59D3\u540D",align:"left",field:e=>e.name,sortable:!0},{name:"account",required:!0,label:"\u5E33\u865F",align:"left",field:e=>e.account,sortable:!0},{name:"email",required:!0,label:"email",align:"left",field:e=>e.email,sortable:!0},{name:"edit",required:!0,label:"\u7DE8\u8F2F\u4FEE\u6539",align:"left",sortable:!0}],m=async e=>{try{await l.delete("/users/"+e),await s.fire({icon:"success",title:"\u522A\u9664\u6210\u529F"});const t=r.findIndex(o=>o._id===e);r.splice(t,1)}catch(t){s.fire({icon:"error",title:"\u5931\u6557",text:t.isAxiosError?t.response.data.message:t.message})}};return(async()=>{try{const{data:e}=await l.get("/users/all");r.push(...e.result),console.log(r)}catch{s.fire({icon:"error",title:"\u5931\u6557",text:"\u7121\u6CD5\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"})}})(),(e,t)=>(f(),_("div",w,[i(u,{title:"\u6703\u54E1\u8CC7\u6599",rows:r,columns:n,"row-key":"name"},{"body-cell-edit":a(o=>[i(p,null,{default:a(()=>[i(c,{onClick:k=>m(o.row._id)},{default:a(()=>[x]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["rows"])]))}};export{K as default};
