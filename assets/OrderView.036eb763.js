import{Q as _}from"./QCard.56a35bff.js";import{Q as g,a as u}from"./QTable.e3f7646e.js";import{B as b,e as i,f as d,m as o,j as n,k as l,af as f,_ as w,F as h,$ as v,t as p,a0 as t,p as s}from"./index.c74ba9e5.js";import"./use-dark.bf0b6226.js";import"./create.271cd6e4.js";import"./render.b33f033f.js";import"./Ripple.b95285a7.js";import"./QSeparator.3825c2fb.js";import"./QList.4d156c3c.js";import"./QSelect.331897d5.js";import"./use-key-composition.5b22bb79.js";import"./QSpinner.dfa5743b.js";import"./QBtn.c639a325.js";import"./focus-manager.d6507951.js";import"./QItem.b9e7c55f.js";import"./QMenu.78255d28.js";import"./selection.efe9ffa6.js";import"./focusout.7942feb4.js";import"./use-timeout.cbfe377c.js";import"./scroll.d4b28e8c.js";import"./QDialog.2f54c108.js";import"./rtl.4b414a6d.js";import"./use-fullscreen.570be918.js";const y={class:"q-pa-xl",style:{width:"100%",height:"100%","background-image":"linear-gradient(to bottom,#F4F8EE, #fff)","z-index":"-1"}},q={class:"col-12"},k={key:0},D={img:"img"},S=["src"],L={class:"q-ma-lg"},x={key:0},B={key:1},Q={key:2},V={key:3},E={key:4},F={key:5},N={key:6},C=["src"],le={__name:"OrderView",setup(T){const m=b([]),c=[{name:"image",required:!0,label:"\u5716\u7247",align:"left"},{name:"_id",required:!0,label:"\u8A02\u55AE\u7DE8\u865F",align:"left",field:a=>a._id,sortable:!0},{name:"name",required:!0,label:"\u884C\u7A0B\u540D\u7A31",align:"left",field:a=>a.name,sortable:!0},{name:"product_date",required:!0,label:"\u884C\u7A0B\u65E5\u671F",align:"left",sortable:!0},{name:"quantity",required:!0,label:"\u8CFC\u8CB7\u6578\u91CF",align:"left",sortable:!0},{name:"price",required:!0,label:"\u50F9\u9322",align:"left",sortable:!0},{name:"subtotal",required:!0,label:"\u5C0F\u8A08\u91D1\u984D",align:"left",sortable:!0},{name:"date",required:!0,label:"\u4E0B\u8A02\u55AE\u65E5\u671F",align:"left",sortable:!0}];return(async()=>{try{const{data:a}=await f.get("/orders/getMyOrders");m.push(...a.result)}catch{w.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),(a,O)=>(i(),d("div",y,[o("div",q,[n(g,{grid:a.$q.screen.lt.md,title:"\u8CFC\u8CB7\u6E05\u55AE",rows:m,columns:c,"row-key":"name",filter:a.filter,style:{color:"#5E8A4B"}},{item:l(r=>[n(_,{class:"col-12 q-pa-md q-my-lg text-weight-bold text-grey-7"},{default:l(()=>[(i(!0),d(h,null,v(r.cols,e=>(i(),d("div",{key:e.name},[e.name==="image"?(i(),d("div",k,[o("div",D,[o("img",{src:r.row.products[0].product.image,style:{width:"100%"}},null,8,S)])])):s("",!0),o("div",L,[e.name==="_id"?(i(),d("div",x,[o("div",null,"\u8A02\u55AE\u7DE8\u865F : "+t(r.row.products[0].product._id),1)])):s("",!0),e.name==="name"?(i(),d("div",B,[o("div",null,t(e.label)+" : "+t(e.value),1)])):s("",!0),e.name==="product_date"?(i(),d("div",Q,[o("div",null,t(e.label)+" : "+t(new Date(r.row.products[0].product.product_date.from).toLocaleDateString())+" ~ "+t(new Date(r.row.products[0].product.product_date.to).toLocaleDateString()),1)])):s("",!0),e.name==="quantity"?(i(),d("div",V,[o("div",null,t(e.label)+" : "+t(e.value),1)])):s("",!0),e.name==="price"?(i(),d("div",E,[o("div",null,t(e.label)+" : "+t(e.value),1)])):s("",!0),e.name==="subtotal"?(i(),d("div",F,[o("div",null,t(e.label)+" : "+t(e.value),1)])):s("",!0),e.name==="date"?(i(),d("div",N,[o("div",null,t(e.label)+" : "+t(new Date(r.row.date).toLocaleDateString()),1)])):s("",!0)])]))),128))]),_:2},1024)]),"body-cell-image":l(r=>[n(u,{img:a.img},{default:l(()=>[o("img",{src:r.row.products[0].product.image,style:{width:"150px"}},null,8,C)]),_:2},1032,["img"])]),"body-cell-product_date":l(r=>[n(u,{product_date:a.product_date},{default:l(()=>[p(t(new Date(r.row.products[0].product.product_date.from).toLocaleDateString())+" ~ "+t(new Date(r.row.products[0].product.product_date.to).toLocaleDateString()),1)]),_:2},1032,["product_date"])]),"body-cell-date":l(r=>[n(u,{date:a.date},{default:l(()=>[p(t(new Date(r.row.date).toLocaleDateString()),1)]),_:2},1032,["date"])]),_:1},8,["grid","rows","filter"])])]))}};export{le as default};
