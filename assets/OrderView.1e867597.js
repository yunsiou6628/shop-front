import{Q as _}from"./QCard.b49743f8.js";import{Q as g,a as n}from"./QTable.1f3fa925.js";import{B as f,e as i,f as d,m as o,j as u,k as l,ae as b,_ as y,F as h,$ as v,t as p,a0 as r,p as s}from"./index.6178169d.js";import"./use-dark.59dc71b5.js";import"./render.c3daa5be.js";import"./Ripple.4947cac5.js";import"./QSeparator.0b086213.js";import"./QList.9b363a94.js";import"./QSelect.1e46fca5.js";import"./use-key-composition.ff008f3f.js";import"./QSpinner.72e61285.js";import"./QBtn.0bddb3bd.js";import"./focus-manager.d6507951.js";import"./QItem.29602f8e.js";import"./QMenu.9c2f2818.js";import"./selection.1c388ebb.js";import"./focusout.d385e5b7.js";import"./use-timeout.0f4d42df.js";import"./scroll.28a8cf8e.js";import"./QDialog.4880e8ec.js";import"./rtl.4b414a6d.js";import"./use-fullscreen.01a5ae26.js";const w={class:"q-pa-xl",style:{width:"100%",height:"100%","background-image":"linear-gradient(to bottom,#F4F8EE, #fff)","z-index":"-1"}},q={class:"col-12"},k={key:0},D={img:"img"},S=["src"],L={class:"q-ma-lg"},x={key:0},B={key:1},Q={key:2},V={key:3},E={key:4},F={key:5},N={key:6},C=["src"],de={__name:"OrderView",setup(T){const m=f([]),c=[{name:"image",required:!0,label:"\u5716\u7247",align:"left"},{name:"_id",required:!0,label:"\u8A02\u55AE\u7DE8\u865F",align:"left",field:e=>e.products[0].product._id,sortable:!0},{name:"name",required:!0,label:"\u884C\u7A0B\u540D\u7A31",align:"left",field:e=>e.products[0].product.name,sortable:!0},{name:"product_date",required:!0,label:"\u884C\u7A0B\u65E5\u671F",align:"left",sortable:!0},{name:"quantity",required:!0,label:"\u8CFC\u8CB7\u6578\u91CF",align:"left",field:e=>e.products[0].quantity,sortable:!0},{name:"price",required:!0,label:"\u50F9\u9322",align:"left",field:e=>e.products[0].product.price,sortable:!0},{name:"subtotal",required:!0,label:"\u5C0F\u8A08\u91D1\u984D",align:"left",field:e=>e.products[0].product.price*e.products[0].quantity,sortable:!0},{name:"date",required:!0,label:"\u4E0B\u8A02\u55AE\u65E5\u671F",align:"left",sortable:!0}];return(async()=>{try{const{data:e}=await b.get("/orders/getMyOrders");m.push(...e.result)}catch{y.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),(e,O)=>(i(),d("div",w,[o("div",q,[u(g,{grid:e.$q.screen.lt.md,title:"\u8CFC\u8CB7\u6E05\u55AE",rows:m,columns:c,"row-key":"name",filter:e.filter,style:{color:"#5E8A4B"}},{item:l(a=>[u(_,{class:"col-12 q-pa-md q-my-lg text-weight-bold text-grey-7"},{default:l(()=>[(i(!0),d(h,null,v(a.cols,t=>(i(),d("div",{key:t.name},[t.name==="image"?(i(),d("div",k,[o("div",D,[o("img",{src:a.row.products[0].product.image,style:{width:"100%"}},null,8,S)])])):s("",!0),o("div",L,[t.name==="_id"?(i(),d("div",x,[o("div",null,"\u8A02\u55AE\u7DE8\u865F : "+r(a.row.products[0].product._id),1)])):s("",!0),t.name==="name"?(i(),d("div",B,[o("div",null,r(t.label)+" : "+r(t.value),1)])):s("",!0),t.name==="product_date"?(i(),d("div",Q,[o("div",null,r(t.label)+" : "+r(new Date(a.row.products[0].product.product_date.from).toLocaleDateString())+" ~ "+r(new Date(a.row.products[0].product.product_date.to).toLocaleDateString()),1)])):s("",!0),t.name==="quantity"?(i(),d("div",V,[o("div",null,r(t.label)+" : "+r(t.value),1)])):s("",!0),t.name==="price"?(i(),d("div",E,[o("div",null,r(t.label)+" : "+r(t.value),1)])):s("",!0),t.name==="subtotal"?(i(),d("div",F,[o("div",null,r(t.label)+" : "+r(t.value),1)])):s("",!0),t.name==="date"?(i(),d("div",N,[o("div",null,r(t.label)+" : "+r(new Date(a.row.date).toLocaleDateString()),1)])):s("",!0)])]))),128))]),_:2},1024)]),"body-cell-image":l(a=>[u(n,{img:e.img},{default:l(()=>[o("img",{src:a.row.products[0].product.image,style:{width:"150px"}},null,8,C)]),_:2},1032,["img"])]),"body-cell-product_date":l(a=>[u(n,{product_date:e.product_date},{default:l(()=>[p(r(new Date(a.row.products[0].product.product_date.from).toLocaleDateString())+" ~ "+r(new Date(a.row.products[0].product.product_date.to).toLocaleDateString()),1)]),_:2},1032,["product_date"])]),"body-cell-date":l(a=>[u(n,{date:e.date},{default:l(()=>[p(r(new Date(a.row.date).toLocaleDateString()),1)]),_:2},1032,["date"])]),_:1},8,["grid","rows","filter"])])]))}};export{de as default};
