import{Q as _}from"./QCard.24ec6774.js";import{Q as g,a as n}from"./QTable.ac1fe5ca.js";import{B as f,e as i,f as d,m as o,j as u,k as l,af as b,_ as y,F as h,$ as v,t as p,a0 as r,p as s}from"./index.44c6c104.js";import"./use-dark.e974edd8.js";import"./create.76be8067.js";import"./render.38a4aa5d.js";import"./Ripple.46c34a9a.js";import"./QSeparator.39ea6bca.js";import"./QList.b1f730ce.js";import"./QSelect.58650cce.js";import"./use-key-composition.d55818be.js";import"./QSpinner.16b1240f.js";import"./QBtn.1e37e654.js";import"./focus-manager.d6507951.js";import"./QItem.cde3afcd.js";import"./QMenu.c6f67e32.js";import"./selection.b0ae46a7.js";import"./focusout.e3b32928.js";import"./use-timeout.796c964d.js";import"./scroll.7e6615e1.js";import"./QDialog.e90975c0.js";import"./rtl.4b414a6d.js";import"./use-fullscreen.30728275.js";const w={class:"q-pa-xl",style:{width:"100%",height:"100%","background-image":"linear-gradient(to bottom,#F4F8EE, #fff)","z-index":"-1"}},q={class:"col-12"},k={key:0},D={img:"img"},S=["src"],L={class:"q-ma-lg"},x={key:0},B={key:1},Q={key:2},V={key:3},E={key:4},F={key:5},N={key:6},C=["src"],le={__name:"OrderView",setup(T){const m=f([]),c=[{name:"image",required:!0,label:"\u5716\u7247",align:"left"},{name:"_id",required:!0,label:"\u8A02\u55AE\u7DE8\u865F",align:"left",field:e=>e.products[0].product._id,sortable:!0},{name:"name",required:!0,label:"\u884C\u7A0B\u540D\u7A31",align:"left",field:e=>e.products[0].product.name,sortable:!0},{name:"product_date",required:!0,label:"\u884C\u7A0B\u65E5\u671F",align:"left",sortable:!0},{name:"quantity",required:!0,label:"\u8CFC\u8CB7\u6578\u91CF",align:"left",field:e=>e.products[0].quantity,sortable:!0},{name:"price",required:!0,label:"\u50F9\u9322",align:"left",field:e=>e.products[0].product.price,sortable:!0},{name:"subtotal",required:!0,label:"\u5C0F\u8A08\u91D1\u984D",align:"left",field:e=>e.products[0].product.price*e.products[0].quantity,sortable:!0},{name:"date",required:!0,label:"\u4E0B\u8A02\u55AE\u65E5\u671F",align:"left",sortable:!0}];return(async()=>{try{const{data:e}=await b.get("/orders/getMyOrders");m.push(...e.result)}catch{y.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),(e,O)=>(i(),d("div",w,[o("div",q,[u(g,{grid:e.$q.screen.lt.md,title:"\u8CFC\u8CB7\u6E05\u55AE",rows:m,columns:c,"row-key":"name",filter:e.filter,style:{color:"#5E8A4B"}},{item:l(a=>[u(_,{class:"col-12 q-pa-md q-my-lg text-weight-bold text-grey-7"},{default:l(()=>[(i(!0),d(h,null,v(a.cols,t=>(i(),d("div",{key:t.name},[t.name==="image"?(i(),d("div",k,[o("div",D,[o("img",{src:a.row.products[0].product.image,style:{width:"100%"}},null,8,S)])])):s("",!0),o("div",L,[t.name==="_id"?(i(),d("div",x,[o("div",null,"\u8A02\u55AE\u7DE8\u865F : "+r(a.row.products[0].product._id),1)])):s("",!0),t.name==="name"?(i(),d("div",B,[o("div",null,r(t.label)+" : "+r(t.value),1)])):s("",!0),t.name==="product_date"?(i(),d("div",Q,[o("div",null,r(t.label)+" : "+r(new Date(a.row.products[0].product.product_date.from).toLocaleDateString())+" ~ "+r(new Date(a.row.products[0].product.product_date.to).toLocaleDateString()),1)])):s("",!0),t.name==="quantity"?(i(),d("div",V,[o("div",null,r(t.label)+" : "+r(t.value),1)])):s("",!0),t.name==="price"?(i(),d("div",E,[o("div",null,r(t.label)+" : "+r(t.value),1)])):s("",!0),t.name==="subtotal"?(i(),d("div",F,[o("div",null,r(t.label)+" : "+r(t.value),1)])):s("",!0),t.name==="date"?(i(),d("div",N,[o("div",null,r(t.label)+" : "+r(new Date(a.row.date).toLocaleDateString()),1)])):s("",!0)])]))),128))]),_:2},1024)]),"body-cell-image":l(a=>[u(n,{img:e.img},{default:l(()=>[o("img",{src:a.row.products[0].product.image,style:{width:"150px"}},null,8,C)]),_:2},1032,["img"])]),"body-cell-product_date":l(a=>[u(n,{product_date:e.product_date},{default:l(()=>[p(r(new Date(a.row.products[0].product.product_date.from).toLocaleDateString())+" ~ "+r(new Date(a.row.products[0].product.product_date.to).toLocaleDateString()),1)]),_:2},1032,["product_date"])]),"body-cell-date":l(a=>[u(n,{date:e.date},{default:l(()=>[p(r(new Date(a.row.date).toLocaleDateString()),1)]),_:2},1032,["date"])]),_:1},8,["grid","rows","filter"])])]))}};export{le as default};
