import{Q as _}from"./QCard.f4aa6309.js";import{Q as g,a as u}from"./QTable.5e065283.js";import{B as b,e as i,f as d,m as o,j as n,k as l,af as f,_ as w,F as h,$ as v,t as p,a0 as t,p as s}from"./index.70ed6b39.js";import"./use-dark.c256745d.js";import"./create.91536359.js";import"./render.2074f38d.js";import"./Ripple.4d715f09.js";import"./QSeparator.50170633.js";import"./QList.728f5ccb.js";import"./QSelect.aed58fcb.js";import"./use-key-composition.03e08924.js";import"./QSpinner.fe083e21.js";import"./QBtn.5901e0c8.js";import"./focus-manager.d6507951.js";import"./QItem.75f45b45.js";import"./QMenu.92f18bec.js";import"./selection.5618d6cb.js";import"./focusout.88818623.js";import"./use-timeout.10948d5a.js";import"./scroll.b8249685.js";import"./QDialog.1191cdf1.js";import"./rtl.4b414a6d.js";import"./use-fullscreen.9e2066b2.js";const y={class:"q-pa-xl",style:{width:"100%",height:"100%","background-image":"linear-gradient(to bottom,#F4F8EE, #fff)","z-index":"-1"}},q={class:"col-12"},k={key:0},D={img:"img"},S=["src"],L={class:"q-ma-lg"},x={key:0},B={key:1},Q={key:2},V={key:3},E={key:4},F={key:5},N={key:6},C=["src"],le={__name:"OrderView",setup(T){const m=b([]),c=[{name:"image",required:!0,label:"\u5716\u7247",align:"left"},{name:"_id",required:!0,label:"\u8A02\u55AE\u7DE8\u865F",align:"left",field:a=>a._id,sortable:!0},{name:"name",required:!0,label:"\u884C\u7A0B\u540D\u7A31",align:"left",field:a=>a.name,sortable:!0},{name:"product_date",required:!0,label:"\u884C\u7A0B\u65E5\u671F",align:"left",sortable:!0},{name:"quantity",required:!0,label:"\u8CFC\u8CB7\u6578\u91CF",align:"left",sortable:!0},{name:"price",required:!0,label:"\u50F9\u9322",align:"left",sortable:!0},{name:"subtotal",required:!0,label:"\u5C0F\u8A08\u91D1\u984D",align:"left",sortable:!0},{name:"date",required:!0,label:"\u4E0B\u8A02\u55AE\u65E5\u671F",align:"left",sortable:!0}];return(async()=>{try{const{data:a}=await f.get("/orders/getMyOrders");m.push(...a.result)}catch{w.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),(a,O)=>(i(),d("div",y,[o("div",q,[n(g,{grid:a.$q.screen.lt.md,title:"\u8CFC\u8CB7\u6E05\u55AE",rows:m,columns:c,"row-key":"name",filter:a.filter,style:{color:"#5E8A4B"}},{item:l(r=>[n(_,{class:"col-12 q-pa-md q-my-lg text-weight-bold text-grey-7"},{default:l(()=>[(i(!0),d(h,null,v(r.cols,e=>(i(),d("div",{key:e.name},[e.name==="image"?(i(),d("div",k,[o("div",D,[o("img",{src:r.row.products[0].product.image,style:{width:"100%"}},null,8,S)])])):s("",!0),o("div",L,[e.name==="_id"?(i(),d("div",x,[o("div",null,"\u8A02\u55AE\u7DE8\u865F : "+t(r.row.products[0].product._id),1)])):s("",!0),e.name==="name"?(i(),d("div",B,[o("div",null,t(e.label)+" : "+t(e.value),1)])):s("",!0),e.name==="product_date"?(i(),d("div",Q,[o("div",null,t(e.label)+" : "+t(new Date(r.row.products[0].product.product_date.from).toLocaleDateString())+" ~ "+t(new Date(r.row.products[0].product.product_date.to).toLocaleDateString()),1)])):s("",!0),e.name==="quantity"?(i(),d("div",V,[o("div",null,t(e.label)+" : "+t(e.value),1)])):s("",!0),e.name==="price"?(i(),d("div",E,[o("div",null,t(e.label)+" : "+t(e.value),1)])):s("",!0),e.name==="subtotal"?(i(),d("div",F,[o("div",null,t(e.label)+" : "+t(e.value),1)])):s("",!0),e.name==="date"?(i(),d("div",N,[o("div",null,t(e.label)+" : "+t(new Date(r.row.date).toLocaleDateString()),1)])):s("",!0)])]))),128))]),_:2},1024)]),"body-cell-image":l(r=>[n(u,{img:a.img},{default:l(()=>[o("img",{src:r.row.products[0].product.image,style:{width:"150px"}},null,8,C)]),_:2},1032,["img"])]),"body-cell-product_date":l(r=>[n(u,{product_date:a.product_date},{default:l(()=>[p(t(new Date(r.row.products[0].product.product_date.from).toLocaleDateString())+" ~ "+t(new Date(r.row.products[0].product.product_date.to).toLocaleDateString()),1)]),_:2},1032,["product_date"])]),"body-cell-date":l(r=>[n(u,{date:a.date},{default:l(()=>[p(t(new Date(r.row.date).toLocaleDateString()),1)]),_:2},1032,["date"])]),_:1},8,["grid","rows","filter"])])]))}};export{le as default};
