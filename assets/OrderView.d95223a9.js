import{Q as m}from"./QBtn.8d6d3afb.js";import{Q as h}from"./QCard.269eaccc.js";import{Q as g}from"./QTable.af46e021.js";import{B as w,e as a,f as s,m as o,j as l,k as n,ae as y,_ as v,F as b,$ as f,t as u,a0 as i,p as d}from"./index.932b337e.js";import"./Ripple.98361d2d.js";import"./render.f0516c4c.js";import"./QSpinner.3792bdff.js";import"./use-dark.58fcdffb.js";import"./QSeparator.5d987790.js";import"./QList.b1e1c326.js";import"./QSelect.2074baf8.js";import"./use-key-composition.2b116415.js";import"./focus-manager.d6507951.js";import"./QItem.7aeaa70a.js";import"./QMenu.fd4d63d9.js";import"./selection.8197e082.js";import"./focusout.ce343735.js";import"./use-timeout.867259fe.js";import"./scroll.6abecf88.js";import"./QDialog.d1797ef9.js";import"./rtl.4b414a6d.js";import"./use-fullscreen.fb126947.js";const k={class:"q-pa-xl",style:{width:"100vw",height:"100vh","background-image":"linear-gradient(to bottom,#F4F8EE, #fff)","z-index":"-1"}},q={class:"col-12"},C={key:0},x={img:"img"},D=["src"],B={class:"q-ma-lg"},Q={key:0},S={key:1},V={key:2},$={class:"row"},E={class:"col-3",style:{margin:"auto 0"}},F=["btn"],L=u("- "),N={class:"q-px-lg"},I=u("+ "),j={key:3},A={key:4},O={key:5,class:"row justify-center"},T=["btn"],z=u("\u522A\u9664"),M=["src"],_t={__name:"OrderView",setup(G){const c=w([]),_=[{name:"image",required:!0,label:"\u5546\u54C1\u5716\u7247",align:"left"},{name:"name",required:!0,label:"\u884C\u7A0B\u540D\u7A31",align:"left",field:r=>r.products[0].product.name,sortable:!0},{name:"product_date",required:!0,label:"\u884C\u7A0B\u65E5\u671F",align:"left",sortable:!0},{name:"quantity",required:!0,label:"\u8CFC\u8CB7\u6578\u91CF",align:"left",field:r=>r.products[0].product.quantity,sortable:!0}];return(async()=>{try{console.log(111);const{data:r}=await y.get("/orders/getMyOrders");console.log(222),c.push(...r.result),console.log(c)}catch{v.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),(r,J)=>(a(),s("div",k,[o("div",q,[l(g,{grid:r.$q.screen.lt.md,title:"\u8CFC\u7269\u6E05\u55AE",rows:c,columns:_,"row-key":"name","hide-pagination":""},{item:n(e=>[l(h,{class:"col-12 q-pa-md q-my-lg text-weight-bold",style:{color:"#5E8A4B"}},{default:n(()=>[(a(!0),s(b,null,f(e.cols,t=>(a(),s("div",{key:t.name},[t.name==="image"?(a(),s("div",C,[o("div",x,[o("img",{src:e.row.product.image,style:{width:"100%"}},null,8,D)])])):d("",!0),o("div",B,[t.name==="product"?(a(),s("div",Q,[o("div",null,i(t.label)+" : "+i(t.value),1)])):d("",!0),t.name==="product_date"?(a(),s("div",S,[o("div",null,i(t.label)+" : "+i(new Date(e.row.product.product_date.from).toLocaleDateString())+" ~ "+i(new Date(e.row.product.product_date.to).toLocaleDateString()),1)])):d("",!0),t.name==="quantity"?(a(),s("div",V,[o("div",$,[o("div",E,i(t.label)+" : ",1),o("div",{btn:r.btn,class:"col-7"},[l(m,{flat:"",round:"",onClick:p=>r.updateCart(e.rowIndex,e.row.quantity-1),style:{width:"10%"}},{default:n(()=>[L]),_:2},1032,["onClick"]),o("span",N,i(e.row.quantity),1),l(m,{flat:"",round:"",onClick:p=>r.updateCart(e.rowIndex,e.row.quantity+1),style:{width:"10%"}},{default:n(()=>[I]),_:2},1032,["onClick"])],8,F)])])):d("",!0),t.name==="price"?(a(),s("div",j,[o("div",null,i(t.label)+" : "+i(t.value),1)])):d("",!0),t.name==="subtotal"?(a(),s("div",A,[o("div",null,i(t.label)+" : "+i(t.value),1)])):d("",!0),t.name==="btn"?(a(),s("div",O,[o("div",{btn:r.btn},[l(m,{onClick:p=>r.updateCart(e.rowIndex,0)},{default:n(()=>[z]),_:2},1032,["onClick"])],8,T)])):d("",!0)])]))),128))]),_:2},1024)]),"body-cell-image":n(e=>[o("img",{src:e.row.products[0].product.image,style:{width:"150px"}},null,8,M)]),"body-cell-product_date":n(e=>[u(i(new Date(e.row.products[0].product.product_date).toLocaleDateString()),1)]),_:1},8,["grid","rows"])])]))}};export{_t as default};
